(()=>{var e={639:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=639,e.exports=t}},t={};function s(a){if(t[a])return t[a].exports;var r=t[a]={exports:{}};return e[a](r,r.exports,s),r.exports}s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e;function t(e,t,s,a,...r){let n=null;try{n=document.createElement(e)}catch(e){throw new Error("Cant create HTMLElement, give a proper tag name")}return t&&n.classList.add(...t.split(" ")),s&&Array.isArray(s)?s.forEach((e=>e&&n.appendChild(e))):s&&"object"==typeof s?n.appendChild(s):s&&"string"==typeof s&&(n.innerHTML=s),a&&a.appendChild(n),r.length&&r.forEach((([e,t])=>{""===t&&n.setAttribute(e,""),e.match(/value|id|for|type|src|style|href|target/)?n.setAttribute(e,t):n.dataset[e]=t})),n}function a(e,t=null){return JSON.parse(window.localStorage.getItem(e)||t)}function r(e){return`<i class="material-icons">${e}</i>`}function n(e){for(;e.children.length;)e.removeChild(e.lastChild)}(e=s(639)).keys().map(e);const i=[{title:"actions",content:[{eng:"cry",rus:"плакать"},{eng:"listen",rus:"слушать"},{eng:"play",rus:"играть"},{eng:"run",rus:"бежать"},{eng:"sleep",rus:"спать"},{eng:"swim",rus:"плыть"},{eng:"talk",rus:"разговаривать"},{eng:"walk",rus:"гулять"}]},{title:"animals",content:[{eng:"butterfly",rus:"бабочка"},{eng:"chicken",rus:"курица"},{eng:"dog",rus:"собака"},{eng:"fox",rus:"лиса"},{eng:"monkey",rus:"обезьяна"},{eng:"owl",rus:"сова"},{eng:"pig",rus:"свинья"},{eng:"turtle",rus:"черепаха"}]},{title:"clothes",content:[{eng:"cap",rus:"кепка"},{eng:"dress",rus:"платье"},{eng:"hat",rus:"шляпа"},{eng:"jacket",rus:"куртка"},{eng:"shirt",rus:"рубашка"},{eng:"sox",rus:"носки"},{eng:"sweater",rus:"кофта"},{eng:"t-shirt",rus:"футболка"}]},{title:"family",content:[{eng:"brother",rus:"брат"},{eng:"sister",rus:"сестра"},{eng:"mother",rus:"мама"},{eng:"father",rus:"папа"},{eng:"grandfather",rus:"дедушка"},{eng:"grandmother",rus:"бабушка"},{eng:"house",rus:"дом"},{eng:"family",rus:"семья"}]},{title:"fruits",content:[{eng:"apple",rus:"яблоко"},{eng:"banana",rus:"банан"},{eng:"grape",rus:"виноград"},{eng:"kiwi",rus:"киви"},{eng:"lemon",rus:"лимон"},{eng:"orange",rus:"апельсин"},{eng:"pear",rus:"груша"},{eng:"watermelon",rus:"арбуз"}]},{title:"nature",content:[{eng:"forest",rus:"лес"},{eng:"moon",rus:"луна"},{eng:"mountain",rus:"горы"},{eng:"rain",rus:"дождь"},{eng:"river",rus:"река"},{eng:"sea",rus:"море"},{eng:"snow",rus:"снег"},{eng:"sun",rus:"солнце"}]},{title:"school",content:[{eng:"backpack",rus:"рюкзак"},{eng:"blackboard",rus:"доска"},{eng:"book",rus:"книга"},{eng:"bus",rus:"автобус"},{eng:"desk",rus:"парта"},{eng:"pen",rus:"ручка"},{eng:"pencil",rus:"карандаш"},{eng:"teacher",rus:"учитель"}]},{title:"vegetables",content:[{eng:"broccoli",rus:"броколли"},{eng:"cabbage",rus:"капуста"},{eng:"carrot",rus:"морковь"},{eng:"cucumber",rus:"огурец"},{eng:"pea",rus:"горох"},{eng:"pepper",rus:"перец"},{eng:"potato",rus:"картофель"},{eng:"tomato",rus:"помидор"}]}],o=(e,t)=>`./assets/sounds/${e}/${t}.mp3`,c=(e,t)=>`./assets/icons/${e}/${t}.png`,l={gameOverlayBox:t("div","gameoverlay"),gameOverlayImg:t("img","gameoverlay__img"),gameOverlayMessage:t("p","gameoverlay__message"),gameOverlayLink:t("a","gameoverlay__link","main menu","",["href",""])},u={switchBox:t("div","switch",""),switchBtn:t("input","checkbox","","",["type","checkbox"],["id","checkbox"]),switchLabel:t("label","checkbox__label","","",["for","checkbox"]),trainLabel:t("span","train","Train",""),playLabel:t("span","play","Game","")},d=e=>{let t=[];return a("statistic")?(t=a("statistic"),t):(e.forEach((e=>{e.content.forEach((s=>{const a={categoryName:e.title,trainCount:0,correctCount:0,mistakesCount:0,eng:s.eng,rus:s.rus,coef:0};t.push(a)}))})),t)},g=e=>{const t=e,s=document.querySelector(`[data-category="${t}"]`);document.querySelector(".menu__item_main").classList.remove("menu__item_active"),s.classList.add("menu__item_active")},_={footer:t("footer","footer"),wrapper:t("div","wrapper wrapper__footer"),author:t("a","footer__author","","",["href","https://github.com/VadimAlexandrovich"]),githubImg:t("img","footer__img github","","",["src","./assets/icons/github.png"],["alt","github"]),date:t("span","footer__date","2020",""),school:t("a","footer__school","","",["href","https://rs.school/js/"]),schoolImg:t("img","footer__img school","","",["src","./assets/icons/rs_school.svg"],["alt","RSSchool"])},m=document.querySelector("body"),p=t("header","header",t("div","wrapper wrapper__header")),v=t("button","burger__btn",r("menu"),p.firstChild),h=t("div","statistic__overlay"),f=t("button","info__btn button",r("info"),p.firstChild);p.firstChild.append(u.switchBox);const b=t("button","game__btn button",r("play_circle_outline"),p.firstChild);b.disabled=!0;const y=t("main","main",t("div","wrapper wrapper__main"),""),k=t("div","game__answers","",y.firstChild),w=t("div","card__container","",y.firstChild);document.body.prepend(l.gameOverlayBox,h,p,y,_.footer),l.gameOverlayBox.append(l.gameOverlayImg,l.gameOverlayMessage,l.gameOverlayLink),_.footer.append(_.wrapper),_.wrapper.append(_.author,_.date,_.school),_.author.append(_.githubImg),_.school.append(_.schoolImg);const L=t("audio","","",y),C=t("audio","","",y);let x,E=[];u.switchBox.append(u.switchBtn,u.switchLabel,u.trainLabel,u.playLabel);let $=0;u.switchBtn.addEventListener("change",(()=>{u.switchBtn.checked&&(y.setAttribute("data-state","gameMode"),p.setAttribute("data-state","gameMode"),document.querySelector("body").setAttribute("data-state","gameMode")),u.switchBtn.checked||(y.removeAttribute("data-state"),p.removeAttribute("data-state"),document.querySelector("body").removeAttribute("data-state","gameMode"))}));const O=function(e){n(w),n(k),$=0;const{content:s}=e;b.innerHTML=r("play_circle_outline"),b.classList.add("play"),b.disabled=!1,E=[],x=e.title;for(let a=0;a<s.length;a+=1){E.push(s[a].eng);const n=t("div","card__box card__box_word","",w,["soundSrc",o(e.title,s[a].eng)],["cardName",s[a].eng]),i=t("div","card__front","",n),l=t("div","card__back","",n);t("div","card__word",`${s[a].rus}`,l),t("img","card__image","",i,["src",c(e.title,s[a].eng)]),t("div","card__word",`${s[a].eng}`,i),t("button","card__reverse",r("autorenew"),i).addEventListener("click",(()=>{i.classList.add("card__front_reverse"),l.classList.add("card__back_reverse")})),n.addEventListener("mouseleave",(()=>{i.classList.remove("card__front_reverse"),l.classList.remove("card__back_reverse")}))}},M=t("div","menu__overlay","",p.firstChild),A=function(){const e=t("nav","menu","",p.firstChild),s=t("ul","menu__list","",e),a=t("li","menu__item menu__item_main",t("a","menu__link menu__link_main",'<img src="./assets/icons/home.png" class="menu__image"/> main menu',"",["href",""]),s);a.classList.add("menu__item_active");const r=[];for(let e=0;e<i.length;e+=1){const n=t("li","menu__item","",s,["category",`${i[e].title}`]),o=t("a","menu__link",`<img src="./assets/icons/${i[e].title}/${i[e].title}.png" class="menu__image"/> ${i[e].title}`,n,["href",`#${i[e].title}/`]);r.push(n),o.addEventListener("click",(()=>{r.forEach((e=>e.classList.remove("menu__item_active"))),O(i[e]),n.classList.add("menu__item_active"),a.classList.remove("menu__item_active")}))}return e}();function B(){A.classList.toggle("menu_active"),v.classList.toggle("burger__btn_active"),M.classList.toggle("menu__overlay_active"),m.classList.toggle("overflow-hidden")}!function(){for(let e=0;e<i.length;e+=1){const s=t("a","card__box","",w,["href",`#${i[e].title}`],["category",`${i[e].title}`]);t("div","card__front",[t("img","card__image","","",["src",c(i[e].title,i[e].title)]),t("div","card__word",`${i[e].title}`,"")],s),s.addEventListener("click",(()=>{O(i[e]),g(i[e].title)}))}}();const I=e=>{C.src=e,setTimeout((()=>{C.play()}),1)},S=()=>{0!==E.length?(E.sort((()=>2*Math.random()-1)),L.src=o(x,E[E.length-1]),L.load(),L.play(),b.classList.remove("play"),b.classList.add("repeat"),b.innerHTML=r("replay")):(l.gameOverlayBox.classList.add("gameoverlay_active"),0===$?(I("./assets/sounds/gamesounds/winner.mp3"),l.gameOverlayImg.src=c("gameIcons","win_color2"),l.gameOverlayMessage.innerHTML="You are winner!!!"):(I("./assets/sounds/gamesounds/fail.mp3"),l.gameOverlayImg.src=c("gameIcons","losing_сolor"),l.gameOverlayMessage.innerHTML=(e=>`You made ${e} mistakes, please try again`)($)),setTimeout((()=>{window.location.reload()}),3e3))},T=d(i),N=(e,t)=>{const s=T;var a;T.forEach((s=>{if(s.eng===e){switch(t){case"mistake":s.mistakesCount+=1;break;case"correct":s.correctCount+=1;break;default:s.trainCount+=1}(s.correctCount||s.mistakesCount)&&(s.coef=Math.ceil(s.correctCount/(s.correctCount+s.mistakesCount)*100))}})),a=s,window.localStorage.setItem("statistic",JSON.stringify(a))};function H(){h.classList.toggle("statistic__overlay_active"),n(h),t("button","button clear__btn",r("delete_forever"),h).addEventListener("click",(()=>{localStorage.removeItem("statistic"),d(i)}));const e=t("div","statistic__category","",h);t("div","statistic__fields",[t("div","statistic__eng","Category",""),t("div","statistic__eng","Word",""),t("div","statistic__rus","Translate",""),t("div","statistic__train","Train",""),t("div","statistic__mistakes","-",""),t("div","statistic__correct","+",""),t("div","statistic__correct","%","")],e),T.forEach((s=>{t("div","statistic__item",[t("div","statistic__name",`${s.categoryName}`,""),t("div","statistic__eng",`${s.eng}`,""),t("div","statistic__rus",`${s.rus}`,""),t("div","statistic__train",`${s.trainCount}`,""),t("div","statistic__mistakes",`${s.mistakesCount}`,""),t("div","statistic__correct",`${s.correctCount}`,""),t("div","statistic__coef",`${s.coef}`,"")],e)}))}w.onclick=function(e){const s=e.target.closest(".card__box_word");if(s){const e=s.getAttribute("data-card-name");u.switchBtn.checked||((e=>{const t=e.getAttribute("data-sound-src");L.src=t,setTimeout((()=>{L.play()}),1)})(s),N(e)),u.switchBtn.checked&&b.classList.contains("repeat")&&(s.getAttribute("data-card-name")===E[E.length-1]?(s.classList.add("game__true"),k.prepend(t("div","correct","","")),N(e,"correct"),I("./assets/sounds/gamesounds/correct.mp3"),E.pop(),S()):(k.prepend(t("div","mistake","","")),N(E[E.length-1],"mistake"),I("./assets/sounds/gamesounds/mistake.mp3"),$+=1))}},b.addEventListener("click",(()=>{b.classList.contains("play")&&S(),b.classList.contains("repeat")&&L.play()})),v.addEventListener("click",B),A.addEventListener("click",B),M.addEventListener("click",(e=>{e.target.closest(".menu")||B()})),f.addEventListener("click",H),h.addEventListener("click",H)})()})();
//# sourceMappingURL=bundle.js.map